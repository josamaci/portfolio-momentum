<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./assets/img/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="./assets/img/favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <title>Momentum - Inicio Juegos</title>
    <link rel="stylesheet" href="plataforma.css">
</head>
<body>
    <header class="header">
        <div class="logo" onclick="location.href='index.html'">
            <img src="./assets/img/logo2.png" alt="Logo">
            <h1>MOMENTUM</h1>
        </div>
        <div class="login">
            <input type="text" id="unirse-input" placeholder="Ingrese el código de la sala...">
            <button onclick="unirse()">Unirme</button>
        </div>
    </header>

    <div class="login2">
        <input type="text" id="unirse-input2" placeholder="Ingrese el código de la sala...">
        <button onclick="unirse2()">Unirme</button>
    </div>

    <div class="filters">
        <div class="search-bar">
            <input type="text" id="search" placeholder="Buscar juegos...">
        </div>
        <div class="filter-select">
            <label for="type-filter">Tipo de juego:</label>
            <select id="type-filter">
                <option value="all">Todos</option>
                <option value="ludicos">Lúdicos</option>
                <option value="educacionales">Educacionales</option>
            </select>
        </div>
    </div>
    
    <section class="games-section" id="games-section">
        <div class="games-category" data-type="ludicos">
            <h2>Lúdicos</h2>
            <div class="games-list">
                <div class="game-card" id="caballos" data-name="Carrera de caballos" >
                    <img src="./assets/img/prototipado/juegos/caballos/inicio.png" alt="Carrera de caballos">
                    <h3>Carrera de caballos</h3>
                </div>
                <div class="game-card" id="tortugas" data-name="Carrera de tortugas" >
                    <img src="./assets/img/prototipado/juegos/caballos/tortugas.png" alt="Carrera matemática">
                    <h3>Carrera Matemática</h3>
                </div>
                <div class="game-card" data-name="Dibujos">
                    <img src="./assets/img/prototipado/juegos/dibujo/p1.png" alt="Dibujos">
                    <h3>Dibujos</h3>
                </div>
            </div>
        </div>
        <div class="games-category" data-type="educacionales">
            <h2>Educacionales</h2>
            <div class="games-list">
                <div class="game-card" data-name="Juego educativo 1">
                    <img src="./assets/img/prototipado/juegos/palabras/p1.png" alt="Juego educativo 1">
                    <h3>"Ahorcado"</h3>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.getElementById('search').addEventListener('input', filterGames);
        document.getElementById('type-filter').addEventListener('change', filterGames);

        document.querySelector('#caballos').addEventListener('click', function() {
            window.location.href = 'https://momentum-front.vercel.app';
        });
        document.querySelector('#tortugas').addEventListener('click', function() {
            window.location.href = 'https://momentum-front-tortugas.vercel.app/';
        });
        
        function filterGames() {
            const searchValue = document.getElementById('search').value.toLowerCase();
            const typeValue = document.getElementById('type-filter').value;
            const categories = document.querySelectorAll('.games-category');

            categories.forEach(category => {
                const gameType = category.getAttribute('data-type');
                const games = category.querySelectorAll('.game-card');

                let hasVisibleGames = false;
                games.forEach(game => {
                    const gameName = game.getAttribute('data-name').toLowerCase();
                    if ((typeValue === 'all' || typeValue === gameType) && gameName.includes(searchValue)) {
                        game.style.display = 'block';
                        hasVisibleGames = true;
                    } else {
                        game.style.display = 'none';
                    }
                });

                if (hasVisibleGames) {
                    category.style.display = 'block';
                } else {
                    category.style.display = 'none';
                }
            });
        }

        let urlBase="https://momentum-front.vercel.app/lobby/"
        function unirse() {
            const inputValue = document.getElementById('unirse-input').value;
            if(inputValue.includes("tt")){
                urlBase="https://momentum-front-tortugas.vercel.app/lobby/"
            }else{
                urlBase="https://momentum-front.vercel.app/lobby/"
            }
            if (inputValue) {
                const url = `${urlBase}${inputValue}`;
                window.location.href = url;
            } else {
                alert("Por favor, ingrese un código para unirse.");
            }
        }

        function unirse2() {
            const inputValue = document.getElementById('unirse-input2').value;
            if(inputValue.includes("tt")){
                urlBase="https://momentum-front-tortugas.vercel.app/lobby/"
            }else{
                urlBase="https://momentum-front.vercel.app/lobby/"
            }
            if (inputValue) {
                const url = `${urlBase}${inputValue}`;
                window.location.href = url;
            } else {
                alert("Por favor, ingrese un código para unirse.");
            }
        }
    </script>
</body>
</html>
